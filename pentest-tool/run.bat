@echo off

REM Helper script to manage Docker operations for the Pentest Tool

if "%1"=="" goto :help
if "%1"=="help" goto :help

if "%1"=="start" (
    echo Starting all services...
    docker-compose up -d
    echo Services started. Frontend: http://localhost:3000, Backend: http://localhost:8000
    goto :eof
)

if "%1"=="stop" (
    echo Stopping all services...
    docker-compose down
    echo Services stopped.
    goto :eof
)

if "%1"=="restart" (
    echo Restarting all services...
    docker-compose restart
    echo Services restarted.
    goto :eof
)

if "%1"=="logs" (
    echo Showing logs from all services...
    docker-compose logs -f
    goto :eof
)

if "%1"=="logs:backend" (
    echo Showing backend logs...
    docker-compose logs -f backend
    goto :eof
)

if "%1"=="logs:frontend" (
    echo Showing frontend logs...
    docker-compose logs -f frontend
    goto :eof
)

if "%1"=="build" (
    echo Rebuilding all services...
    docker-compose build
    echo Services rebuilt.
    goto :eof
)

goto :help

:help
echo Usage: run.bat [command]
echo.
echo Available commands:
echo   start       - Start all services
echo   stop        - Stop all services
echo   restart     - Restart all services
echo   logs        - View logs from all services
echo   logs:backend - View backend logs
echo   logs:frontend - View frontend logs
echo   build       - Rebuild all services
echo   help        - Show this help message

:eof 