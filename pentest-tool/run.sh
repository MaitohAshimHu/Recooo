#!/bin/bash

# Helper script to manage Docker operations for the Pentest Tool

function show_help {
  echo "Usage: ./run.sh [command]"
  echo ""
  echo "Available commands:"
  echo "  start       - Start all services"
  echo "  stop        - Stop all services"
  echo "  restart     - Restart all services"
  echo "  logs        - View logs from all services"
  echo "  logs:backend - View backend logs"
  echo "  logs:frontend - View frontend logs"
  echo "  build       - Rebuild all services"
  echo "  help        - Show this help message"
}

case "$1" in
  start)
    echo "Starting all services..."
    docker-compose up -d
    echo "Services started. Frontend: http://localhost:3000, Backend: http://localhost:8000"
    ;;
  stop)
    echo "Stopping all services..."
    docker-compose down
    echo "Services stopped."
    ;;
  restart)
    echo "Restarting all services..."
    docker-compose restart
    echo "Services restarted."
    ;;
  logs)
    echo "Showing logs from all services..."
    docker-compose logs -f
    ;;
  logs:backend)
    echo "Showing backend logs..."
    docker-compose logs -f backend
    ;;
  logs:frontend)
    echo "Showing frontend logs..."
    docker-compose logs -f frontend
    ;;
  build)
    echo "Rebuilding all services..."
    docker-compose build
    echo "Services rebuilt."
    ;;
  *)
    show_help
    ;;
esac 